!function(t,e,o){"use strict";t(document).ready(function(){var o=t(".post-type-portfolio #acf-field-item_type, .post-type-portfolio #acf-field_54c7b3e324244");if(o.length&&void 0===acf.data){var a=t('<div class="portfolio-item-type-images"><div class="loader"></div></div>'),i=t('<div class="portfolio-item-type-warning"></div>'),n=o.val(),s=o.find("option:selected").text(),l=e.location.toString().match(/action=edit/),c={"type-1":"portfolio-item-type-1.png","type-2":"portfolio-item-type-2.png","type-3":"portfolio-item-type-3.png","type-4":"portfolio-item-type-4.png","type-5":"portfolio-item-type-5.png","type-6":"portfolio-item-type-6.png","type-7":"portfolio-item-type-7.png"};o.after(i).after(a),l?i.append("<strong>Note:</strong> You are currently using <strong>"+s+"</strong> type. If you change this portfolio type you may lose some of the current settings."):(acf.screen.item_type=o.val(),t(document).trigger("acf/update_field_groups"),"function"==typeof acf.screen.check&&acf.screen.check());var r={},d=0;r[o.val()]=!0,o.find("option").each(function(i,n){var s=t(n),l=t('<a href="#" class="portfolio-item-type-image-option"><img src="'+_k.kaliumAssetsDir+"images/admin/"+c[s.val()]+'" /><span class="opt-label">'+s.html()+"</span></a>");a.append(l),l.on("click",function(i){i.preventDefault(),o.val(s.val()),p(),a.addClass("is-loading"),void 0!==r[s.val()]&&setTimeout(function(){a.removeClass("is-loading")},500),r[s.val()]=!0,e.clearTimeout(d),d=setTimeout(function(){a.removeClass("is-loading")},3e3),acf.screen.item_type=s.val(),t(document).trigger("acf/update_field_groups"),"function"==typeof acf.screen.check&&acf.screen.check()})});var p=function(){o.find("option").each(function(e,s){var c=t(s),r=a.find(".portfolio-item-type-image-option").eq(e);r.removeClass("active"),c.is(":selected")&&r.addClass("active"),l&&(n!=o.val()?i.slideDown():i.slideUp())})};o.hide(),p(),t(document).on("acf/setup_fields",function(t){a.removeClass("is-loading")}),t(".page-title-action").is(":visible")||t(".acf_postbox").not(o.closest(".acf_postbox")).addClass("acf-hidden")}t("#section-skin_palettes_list .skin-palette").each(function(e,o){var a=t(o),i=[];a.find("span").each(function(t,e){i.push(e.style.backgroundColor)}),a.click(function(e){e.preventDefault(),t("#custom_skin_bg_color").iris("color",i[0]),t("#custom_skin_link_color").iris("color",i[1]),t("#custom_skin_headings_color").iris("color",i[2]),t("#custom_skin_paragraph_color").iris("color",i[3]),t("#custom_skin_footer_bg_color").iris("color",i[4]),t("#custom_skin_borders_color").iris("color",i[5])})}),t(".portfolio-likes-reset[data-id]").each(function(e,o){var a=t(o);a.on("click",function(e){e.preventDefault(),a.addClass("is-loading"),t.post(ajaxurl,{action:"lab_portfolio_reset_likes",post_id:a.data("id")},function(t){a.removeClass("is-loading"),"success"==t&&a.prev(".likes-num").html("0")})})}),t("body").on("click","#restore-default-shop-image-dimensions",function(e){e.preventDefault();var o=t(this),a=o.find("em"),i=1==a.length;if(o.data("busy"))return!1;o.addClass("is-loading").data("busy",!0),i&&!a.data("default")&&a.data("default",a.html()),t.get(ajaxurl,{action:"kalium_woocommerce_reset_image_dimensions",override_shop_image_dimensions:1},function(t){o.data("busy",!1).removeClass("is-loading"),i&&a.data("success")&&(a.fadeTo(150,0,function(){a.html('<i class="fa fa-check"></i> '+a.data("success")).fadeTo(300,1)}),setTimeout(function(){a.fadeTo(150,0,function(){a.html(a.data("default")).fadeTo(300,1)})},3e3))})}),t("#acf-field-page_custom_css").bind("keydown.wpevent_InsertTab",function(e){var o=e.target,a,i,n,s,l;if(27==e.keyCode)return e.preventDefault(),void t(o).data("tab-out",!0);9!=e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||(t(o).data("tab-out")?t(o).data("tab-out",!1):(a=o.selectionStart,i=o.selectionEnd,n=o.value,document.selection?(o.focus(),(l=document.selection.createRange()).text="\t"):a>=0&&(s=this.scrollTop,o.value=n.substring(0,a).concat("\t",n.substring(i)),o.selectionStart=o.selectionEnd=a+1,this.scrollTop=s),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()))})}),t(document).ready(function(){var o=t("#kalium-acf5-pro-install-button");o.length&&o.on("click",function(a){if(a.preventDefault(),o.hasClass("disabled")||o.hasClass("done"))o.hasClass("done")&&e.location.reload();else{o.addClass("disabled").append("&hellip;");var i=!1,n=!1;t.post(e.location.pathname,{kalium_acf4_deactivate:1},function(a){"1"==a?(i=!0,t.post(e.location.pathname,{kalium_acf5_activate:1},function(e){e.length>2&&(e=t.trim(e.replace(/.*>/gi,""))),"1"==e?(n=!0,o.html("&#10003; Great! Please refresh the page").removeClass("disabled").addClass("done button-primary")):"-1"==e?(o.html("ACF5 could not be activated!"),o.after(" <span>Please try activating the plugin manually from Plugins page.</span>")):(o.html("ACF5 could not be installed!"),o.after(" <span>Please try installing the plugin manually from <strong>Appearance &gt; Install Plugins</strong> page.</span>"))})):(o.html("ACF4 plugin could not be deactivated!"),o.after(" <span>Please try deactivating the plugin manually from Plugins page.</span>"))})}})}),t(document).ready(function(){t(document.body).on("click","#kalium-gdpr-notice-container .notice-dismiss",function(e){e.preventDefault(),t.post(ajaxurl,{action:"kalium_data_protection_notice_dismiss"})})})}(jQuery,window);